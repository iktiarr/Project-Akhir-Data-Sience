# 3. GRAFIK LANJUTAN (ROC & PAIRPLOT)
        st.divider()
        tab_e1, tab_e2 = st.tabs(["ðŸ“ˆ ROC Curve", "ðŸ” Pairplot (Sebaran)"])

        with tab_e1:
            try:
                y_prob = model.predict_proba(X_test_scaled)[:, 1]
                fpr, tpr, _ = roc_curve(y_test, y_prob)
                roc_auc = auc(fpr, tpr)

                fig_roc, ax_roc = plt.subplots()
                ax_roc.plot(fpr, tpr, color='orange', lw=2, label=f'AUC = {roc_auc:.2f}')
                ax_roc.plot([0, 1], [0, 1], color='navy', linestyle='--')
                ax_roc.set_title('ROC Curve')
                ax_roc.set_xlabel('False Positive Rate')
                ax_roc.set_ylabel('True Positive Rate')
                ax_roc.legend()
                st.pyplot(fig_roc)
            except:
                st.info("Kernel ini tidak support probabilitas untuk ROC.")

        with tab_e2:
            st.write("Pairplot memvisualisasikan hubungan antar fitur pada data Test.")
            viz_data = X_test_raw.copy()
            viz_data['Target'] = y_test.values

            if viz_data.shape[1] > 6:
                st.warning("Fitur terlalu banyak, menampilkan 5 fitur pertama saja.")
                viz_cols = viz_data.columns[:5].tolist() + ['Target']
                viz_data = viz_data[viz_cols]
            
            fig_pair = sns.pairplot(viz_data, hue='Target', diag_kind='kde')
            st.pyplot(fig_pair)
        